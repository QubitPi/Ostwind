<!doctype html><html><!doctype html>
<html>
<head>
<meta charset=utf-8>
<meta content="IE=edge" http-equiv=x-ua-compatible>
<meta content="width=device-width,initial-scale=1" name=viewport>
<meta content name=description>
<meta content name=author>
<title>Testing</title>
<link href=/favicon.ico rel=icon>
<link href=https://ostwind.qubitpi.org/css/font-awesome.all.min.css rel=stylesheet>
<link href=https://ostwind.qubitpi.org/css/bootstrap.min.css rel=stylesheet>
<link href=https://ostwind.qubitpi.org/css/termynal.css rel=stylesheet>
<link href=https://ostwind.qubitpi.org/css/ostwind-theme.css rel=stylesheet>
<meta content="#da532c" name=msapplication-TileColor>
<meta content="#ffffff" name=theme-color>
</head>
<body>
<body>
<header>
<menu style=background:#000;margin:0>
<nav class="navbar navbar-expand-lg navbar-dark bg-black">
<div class=container-fluid>
<a href=https://ostwind.qubitpi.org> <img alt=Ostwind height=35 src=https://ostwind.qubitpi.org/images/logo.svg width=60></a>
<a class="header-text navbar-brand" href=https://ostwind.qubitpi.org>Ostwind</a>
<button aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation" class=navbar-toggler data-bs-target=#navbarSupportedContent data-bs-toggle=collapse type=button>
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse" id=navbarSupportedContent>
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item dropdown">
<a aria-expanded=false class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=/Document id=navbarDropdown role=button>
Documentation
</a>
<ul aria-labelledby=navbarDropdown class=dropdown-menu>
<li><a class=dropdown-item href=/docs/intro>Getting Started</a></li>
<li><a class=dropdown-item href=/docs/json-api>JSON API</a></li>
<li><a class=dropdown-item href=/docs/graphql>GraphQL</a></li>
<li><a class=dropdown-item href=/docs/filestore>File Stores</a></li>
<li><a class=dropdown-item href=/docs/configuration>Configuration</a></li>
<li><a class=dropdown-item href=/docs/system-config>System Configuration</a></li>
<li><a class=dropdown-item href=/docs/monitoring-and-operations>Monitoring and Operations</a></li>
<li><a class=dropdown-item href=/docs/logging>Logging Guidelines</a></li>
<li><a class=dropdown-item href=/docs/kpi>Key Performance Indicators</a></li>
<li>
<hr class=dropdown-divider>
</li>
<li><a class=dropdown-item href=/docs/glossary>Glossary</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a aria-expanded=false class=nav-link href=https://ostwind.qubitpi.org/apidocs/ id=navbarDropdown role=button>
API
</a>
</li>
<li class="nav-item dropdown">
<a aria-expanded=false class=nav-link href=/general/downloads id=navbarDropdown role=button>
Releases
</a>
</li>
<li class="nav-item dropdown">
<a aria-expanded=false class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# id=navbarDropdown role=button>
Contributor Guide
</a>
<ul aria-labelledby=navbarDropdown class=dropdown-menu>
<li><a class=dropdown-item href=https://ostwind.qubitpi.org/development/intro/>Getting Started</a></li>
<li><a class=dropdown-item href=https://ostwind.qubitpi.org/development/di/>Dependency Injection</a></li>
<li><a class=dropdown-item href=https://ostwind.qubitpi.org/development/test/>Testing</a></li>
<li><a class=dropdown-item href=https://ostwind.qubitpi.org/development/metastore/>Meta Stores</a></li>
<li><a class=dropdown-item href=https://ostwind.qubitpi.org/development/local-swift/>Swift (Local)</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a aria-expanded=false class="nav-link dropdown-toggle" data-bs-toggle=dropdown href=# id=navbarDropdown role=button>
Blogs
</a>
<ul aria-labelledby=navbarDropdown class=dropdown-menu>
<li><a class=dropdown-item href=https://ostwind.qubitpi.org/blog/yahoo-object-storage/>Yahoo
Cloud Object Store</a></li>
</ul>
</li>
<li>
<form action=/search class=search-bar method=get>
<input class=search-input id=search-query name=q placeholder=Search... type=search>
<button class=search-button type=submit>Search</button>
</form>
</li>
</ul>
</div>
</div>
</nav>
</menu>
</header>
<div class=content>
<div class=docs>
<h2 id=groovy-spock>Groovy Spock</h2>
<p>We&rsquo;re <em>big</em> believers in testing our code, both for correctness, as well as to ensure that changes don&rsquo;t unintentionally
break existing contracts unintentionally. For example, we rely heavily on the <a href=http://spockframework.org/>Spock</a>
framework for our backend service tests, and see a lot of benefit from it&rsquo;s conciseness, built-in
<a href=http://spockframework.org/spock/docs/1.1-rc-2/interaction_based_testing.html>mocking framework</a>, and the fact that it uses <a href=http://www.groovy-lang.org/>Groovy</a>.</p>
<p>We also strive for very high-quality code, with the belief that quality code is easier to maintain, easier to
understand, and has fewer bugs. To help keep the quality bar high. For instance we have an automated style checker
(<a href=http://checkstyle.sourceforge.net/>Checkstyle</a>) in our Maven-based projects with rules that <em>should</em> catch most of the common style issues.</p>
<h2 id=database>Database</h2>
<p>Database-related tests contain 2 parts</p>
<ol>
<li>
<p>Groovy Spock unit tests on</p>
<ul>
<li><a href=../../../ostwind-examples/ostwind-example-books/src/test/groovy/io/github/qubitpi/ostwind/example/books/application/SQLQueryDataFetcherSpec.groovy>Injected Query DataFetcher</a></li>
<li><a href=../../../ostwind-examples/ostwind-example-books/src/test/groovy/io/github/qubitpi/ostwind/example/books/application/SQLMutationDataFetcherSpec.groovy>Injected Mutation DataFetcher</a></li>
</ul>
</li>
<li>
<p>Live DB tests on endpoints</p>
<ul>
<li>In <a href=../../../ostwind-examples/ostwind-example-books/src/test/groovy/io/github/qubitpi/ostwind/example/books/web/endpoints/FileServletSpec.groovy>file servlet endpoint test</a>
and
<a href=../../../ostwind-examples/ostwind-example-books/src/test/groovy/io/github/qubitpi/ostwind/example/books/web/endpoints/MetaServletSpec.groovy>meta data servlet endpoint test</a>,
<a href=../../../ostwind-examples/ostwind-example-books/src/test/groovy/io/github/qubitpi/ostwind/example/books/application/SQLDBResourceManager.groovy>Flyway migration</a>
injects real data into a Derby in-meomroy SQL DB</li>
<li>The Derby data is injected via a shared <a href=#reference---apache-commons-dbcp2>DBCP DataSource</a> declared in
<a href=../../../ostwind-examples/ostwind-example-books/src/main/java/io/github/qubitpi/ostwind/example/books/application/BooksBinderFactory.java>application BinderFactory</a></li>
<li>The application resource is set alive through <code>JettyServerFactory</code></li>
</ul>
</li>
</ol>
<h3 id=reference---apache-commons-dbcp2>Reference - Apache Commons DBCP2</h3>
<p>For testing Book example application, we use Derby&rsquo;s in-memory database facility, which resides completely in main
memory, not in the file system.</p>
<p>In addition, we use <a href=https://commons.apache.org/proper/commons-dbcp/>Apache DBCP 2</a> to provide
<a href="https://gitbox.apache.org/repos/asf?p=commons-dbcp.git;a=blob_plain;f=doc/BasicDataSourceExample.java;hb=HEAD">DataSource</a>
pointing at the in-memory Derby instance.</p>
<h3 id=derby>Derby</h3>
<p>Derby was meant to be used only in tests and, hence, must be imported in test scope only</p>
</div>
</div>
<footer class="black-background static-bottom" style=padding:30px>
<div class=row>
<div class=col-3>
<a href=https://qubitpi.org/>
<img alt=QubitPi height=100% src=https://ostwind.qubitpi.org/images/logo.png width=100></a>
</a>
</div>
<div class=col-9>
<p class=footer-text>
My sincere thanks to <a href=https://github.com/yahoo/fili>yahoo/fili</a> &
        <a href=https://github.com/yahoo/elide>yahoo/elide</a>, which
gave tremendous amount of guidance on design and development of
<a href=https://ostwind.qubitpi.org/>Ostwind</a>, and to my former employer, Yahoo, who taught me to love
software engineering and fundamentally influenced my tech career.
</p>
</div>
</div>
<div class="copyright row">
<a href=https://ostwind.qubitpi.org style=color:grey>
The contents of this website are Â© 2025 Ostwind (Jiaqi Liu) under the terms of the Apache License v2.
</a>
</div>
</footer>
<script src=https://ostwind.qubitpi.org/js/bootstrap.bundle.min.js></script>
</body>
</html>